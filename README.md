# embedded_iot
<b>Dr. Varodom Toochinda</b>
<br>Dept. of Mechanical Engineering, Kasetsart University 
<p align="center">
<img src="https://drive.google.com/uc?id=1hFLVQMM4k2ob4w5fgN8a_ueQ8IyVIpvn" width=700 alt="header"/>
</p>

<p />This is a place where IUP students can find materials for my courses on embedded systems and IoT
<ul>
<li /><b>01205479</b> Internet of Things for Electrical Engineering
  <li /><b>01211421</b> Embedded Systems for Industrial Control 
</ul>

## Course materials

### Lecture 0 : Course Introduction
<ul>
<li /><a href="https://drive.google.com/file/d/1XnlFtc-fcfZwx6CTDuuGg81CrwXkXjlJ/view?usp=sharing" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1cQ9LtRtOm9TD5LR1YBCy_t0dWqVYaU8x/view?usp=sharing" target=_blank>Video : Introduction to NETPIE 2020</a>
</ul>

### Lecture 1 : Basic circuit analysis
<ul>
<li /><a href="https://drive.google.com/file/d/1BJ14zLY259hw0fgeub9WmZS1zZNS4LH_/view?usp=sharing" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1NiLv8U8hjEvTXQgC8owG0IoYKrGT-PCh/view?usp=sharing" target=_blank>Video : Basic circuit analysis</a> 
</ul>

#### Video series : May the force be with you
<ul>
<li /><a href="https://drive.google.com/file/d/1CkXYlQEiY24paO6hkoTwTkxp6OFyygOL/view?usp=sharing" target=_blank>Video : FSR - construct a linear relationship between force and voltage</a> 
<li /><a href="https://drive.google.com/file/d/19UwQskfELpm0E94j0qV8MFV1Txg4-y8i/view?usp=sharing" target=_blank>Video : FSR - programming on ESP8266</a> 
<li /><a href="https://drive.google.com/file/d/1CvIjZ3Suab5WXaI29MHGTMUC4i7QKU25/view?usp=sharing" target=_blank>Video : FST - make it an IoT</a>
</ul>

#### Supplement : Homework assignment help
<ul>
<li /><a href="https://drive.google.com/file/d/1P_CSrPb_DK1sx3-zJGA02jIwPf7gklmW/view?usp=sharing" target=_blank>Video : a guide to Jupyter notebook and Colab</a>
<li /><a href="https://drive.google.com/file/d/1DieTKs91CKjrydrN6m2g9wC9a8GBkQ2z/view?usp=sharing" target=_blank>Video : Help with HW # 1</a>
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/hws/HW1en_question.ipynb" target=_blank>Notebook for HW # 1 </a>
<li />ESP8266 programs in the videos are provided in sensors/fsr   
</ul>

### Lecture 2 : AC circuits & time varying signals
<ul>
<li /><a href="https://drive.google.com/file/d/1Jfw1Y34aLccKYPzxGnvMzA7_Zlw2hLf9/view?usp=sharing" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1b_fZsARm93YElgIm_QFxEPdfLS7b0oUK/view?usp=sharing" target=_blank>Video : AC circuits & time-varying signal</a>  
</ul>

#### Video series : Passive LPF
<ul>
<li /><a href="https://drive.google.com/file/d/1DwC6TvkGfl8AOR0cSO8bbqjMdHKIEGgR/view?usp=sharing" target=_blank>Transfer function review</a> 
<li /><a href="https://drive.google.com/file/d/16xMPKNkdxmELbJ89qvuAiM-6WBjmL8HQ/view?usp=sharing" target=_blank>passive LPF design</a> 
<li /><a href="https://drive.google.com/file/d/1ZGSaN3Eutk5ubKhsT1fKJ188cGiw8baY/view?usp=sharing" target=_blank>Convert PWM output to analog with passive LPF</a>
  
</ul>

#### Supplement
<ul>
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/lpf/LPF_design.ipynb" target=_blank>LPF design notebook</a>
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/hws/HW2en_question.ipynb" target=_blank>Notebook for HW # 2 </a>
  
</ul>

### Lecture 3 : Op-amps and signal conditioning
<ul>
<li /><a href="https://drive.google.com/file/d/1LjtTE567VdI69g5lJG64eTQILgTwGUMw/view?usp=sharing" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1DjJ7vUZ0xvIS0S0mFPKzRm_789v17t0o/view?usp=sharing" target=_blank>Supplement : LAG3-ESP32 board</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/19tURxP3Swyy5NhcnAvNFOjBpyIHoLwNc/view?usp=sharing" target=_blank>Op-amps and signal conditioning</a>
  <li /><a href="https://drive.google.com/file/d/1JHx-PcxEE6-tWdxKBLiU2gm2hQKC5xUv/view?usp=sharing" target=_blank>Hint for HW 2.2</a>
  <li /><a href="https://drive.google.com/file/d/1BsbLO_WlMwBR26Clp5Dzno7NpcVGXieb/view?usp=sharing" target=_blank>Cascaded-tank simulation using opamp and RC circuit</a>
</ul>

#### Supplement
<ul>
<li /><a href="https://drive.google.com/file/d/16UIf94yhWQWUiqJWswHAr95yhEoa6G4Z/view?usp=sharing" target=_blank>How to modify Python code in a cell to function</a>
<li /><a href="https://drive.google.com/file/d/1XsyxuDFZGRb1uHUUHGPjO8OihwAEPHg7/view?fbclid=IwAR1BmO_sdtRmBeJMqZw20joQF0NN_XRO9wubrAguMX2kh2FQIgM9pPAgYEg" target=_blank>Signal Conditioning Basics using Op-amps</a>
  <li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/supplement/level_shifter_design.ipynb" target=_blank>Level shifter design function</a>
</ul>

### Lecture 4 : Basic C programming with ESP8266 and Arduino IDE
<ul>
<li /><a href="https://drive.google.com/file/d/1-GwUI6C9axADxMd-1XofJCInfOgQ9x8q/view?usp=sharing" target=_blank>Slides</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1MxZMu_hacfBijNOM_8S-UzH6eEGunv7B/view?usp=sharing" target=_blank>Arduino IDE, ESP core and library installation</a>
  <li /><a href="https://drive.google.com/file/d/1sz6C1gTrAew3HvFLNHSl3wkK4mvBy7WI/view?usp=sharing" target=_blank>Lecture 4 Part I : Overview of ESP8266 and Arduino IDE</a>  
  <li /><a href="https://drive.google.com/file/d/1e1NXf51fQOVSwMShl4XOdSy0heWHDpS2/view?usp=sharing" target=_blank>Lecture 4 Part II : Playing around with addmult.ino</a>
  <li /><a href="https://drive.google.com/file/d/16r3s4-aanSCi4DvUaEclNjiV8hB6CpWU/view?usp=sharing" target=_blank>Lab 2-2 : analogWrite()</a>
  <li /><a href="https://drive.google.com/file/d/1_kUG67qT1gi3YfJUaqnv3-bjyqGW6fKy/view?usp=sharing" target=_blank>Exercise 2 : Adjust LED brightness with VR</a>
  <li /><a href="https://drive.google.com/file/d/1Bk590T_W3E6lptjfa9G0SSBw2mSqr7Jk/view?usp=sharing" target=_blank>Lab 2-4, 2-5 : digitalRead()</a>
  <li /><a href="https://drive.google.com/file/d/1rYO6E9nIzmkpLdOnZvPG71VdgMenjw0X/view?usp=sharing" target=_blank>Lab 2-6 : using millis() instead of delay()</a>
  <li /><a href="https://drive.google.com/file/d/1BJgco0oxg_sU1rHRIHbF6-GcQpRWkp2Y/view?usp=sharing" target=_blank>Lab 2-7 : read from DHT sensor</a>
  <li /><a href="https://drive.google.com/file/d/1mcoZdOFbVQzNmv2muNxKkd4HlQYDGczw/view?usp=sharing" target=_blank>Lab 2-8 : OLED panel</a>
  <li /><a href="https://drive.google.com/file/d/1DFPPnipz8EXZUimK2XV_GmBljd3HKwCm/view?usp=sharing" target=_blank>Lab 2-9 : BH1750 light sensor</a>
  <li /><a href="https://drive.google.com/file/d/1AEexRE5g-Bfo72Cr7K57jzq9dkbocu03/view?usp=sharing" target=_blank>Lab 2-10 : NodeMCU WiFi connection</a>

</ul>
<br><b>Note : </b>These Arduino programs are originally from chapter 2 of the Practical IoT Design and Implementation book. So the lab numbers have 2- prefix.

#### Supplement
<ul>
  <li /><a href="https://drive.google.com/file/d/1D-3CS7phqaNahr3NZ-8MgJtg3H6LHhZq/view?usp=sharing">Arduino programs</a> 
  <li /><a href="https://drive.google.com/file/d/1OM-pkNfDgmZww5mQBcXj02ZtyLW8fWmi/view" target=_blank>Practical IoT Design and Implementation (Free Download Version)</a>
</ul>

### Lecture 5 : Introduction to NETPIE 2020

<ul>
  <li />Use slides "Introducing NETPIE2020 Workshop" from NECTEC (provided below)
  <li />It is quite mouthful to say "NETPIE 2020" every time. So from now, any mention of NETPIE without year refers to NETPIE 2020, not the previous version NETPIE 2015.
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1m5AcKHslp1gExzOhiAU9rrDELccC84MY/view?usp=sharing">Introduction to NETPIE 2020 and MQTT protocol</a>
  <li /><a href="https://drive.google.com/file/d/1Ac3nf9g13aS07FcrcZlFys9PxNa8FZPr/view?usp=sharing">NETPIE portal</a>
  <li /><a href="https://drive.google.com/file/d/1WWnZd0CUOmpt9WcAQufKadv1pNDU078p/view?usp=sharing">Workshop 1 : simple MQTT communicaiton using MQTTBox</a>
  <li /><a href="https://drive.google.com/file/d/1y9y0dRhh3CeedMFmlNETLMOkAjMHJrQJ/view?usp=sharing">Workshop 2 : connecting NodeMCU to NETPIE</a>
  <li /><a href="https://drive.google.com/file/d/1xix2vnW0KCdQRxTPqEHyCXxxpTIfPYwu/view?usp=sharing">NETPIE device data management</a>
  <li /><a href="https://drive.google.com/file/d/1cVIZOE13YJPdIYanUkie5v7Y5qwz9SbQ/view?usp=sharing">Workshop 4 : publishing data from NodeMCU to NETPIE shadow</a>
</ul>

#### Supplement
<ul>
  <li /><a href="https://drive.google.com/file/d/1JiuOumXnBYgVjCZKS-p4bArk9jxty7YA/view?usp=sharing">For Mac OS-X Big Sur user</a>
</ul>

### Lecture 6 : Notification, monitoring, and storing data
<ul>
  <li />Use slides "Introducing NETPIE2020 Workshop" from NECTEC (provided below)
  <li /><a href = "https://drive.google.com/file/d/113r-l4uw2OudCZdm1SeOoMkkXzj4C5EE/view?usp=sharing">ESP8266 program to write data to ThingSpeak</a>
  <li /><a href = "https://drive.google.com/file/d/10HF-WyA3JGmHqdeHlj0zLZOThu6QwhTJ/view?usp=sharing">ESP8266 program to monitor humidity, temperature, and light data on Blynk</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://youtu.be/PMuxdHhqFJo">Line notification on NETPIE</a>
  <li /><a href="https://drive.google.com/file/d/1BhxSdGpmIrcG0qEBf7bsoyF2MygmlurA/view?usp=sharing">Monitoring on NETPIE Freeboard</a>
  <li /><a href="https://drive.google.com/file/d/1kvyhjSbJe7IZAh3GcZPX2hIAMub6t_rq/view?usp=sharing">Create a FeedView widget on NETPIE</a>
  <li /><a href="https://www.youtube.com/watch?v=AK4Lp1Ko0l8&t=478s">How to Use ThingSpeak with Arduino (youtube video from learnelectronics)</a>
  <li /><a href="https://drive.google.com/file/d/1XliNKSoWTJ5o1BSDizF7A3HKU2C2_UWY/view?usp=sharing">Write temperature, humidity, light data to ThingSpeak channel</a>
  <li /><a href="https://youtu.be/7qqoqhDiPl0">Monitoring humidity, temperature, light on mobile with Blynk.</a> 
  <li /><a href="https://youtu.be/1J1lYluQEwo">Connect and send sensor data to Thingsboard</a>
</ul>

### Lecture 7 : Discrete-time PID Implementation

Notebooks from my control_python github
<ul>
  <li /><a href="https://github.com/dewdotninja/control_python/blob/main/ceb_m4.ipynb">Module 4 : PID control</a>
  <li /><a href="https://github.com/dewdotninja/control_python/blob/main/ceb_m6.ipynb">Module 6: Discrete-time Control Systems</a>
  <li /><a href="https://github.com/dewdotninja/control_python/blob/main/ceb_m7.ipynb">Module 7: Continuous to Discrete Conversion Methods</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1QkeOk_3j4ICrkydK13TOZ6RzFonfHlal/view?usp=sharing">From continuous-time PID to algorithm</a>
  <li /><a href="https://drive.google.com/file/d/1E4dA1vkYrGBOA-3wASna47nMszWPVypH/view?usp=sharing">An example on how to convert a PI controller to code</a>
  
</ul>

### Lecture 8 : IoT using node-red

See workshop 3 for node-red installation
<ul>
  <li /><a href="https://drive.google.com/file/d/1zmTMS_57E2wfMs9ALXXlJgiSwRbG1t7J/view?usp=sharing">Using node-red with NETPIE 2020 Slides</a>
  <li /><a href="https://drive.google.com/file/d/1ROtYd5pP_0EniOlQSTy0kbVGyxcLH41W/view?usp=sharing">igr_msgupdate.ino</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://youtu.be/ul2AA0dQsjo">IoT with NETPIE2020 and node-red (part I)</a>
  <li /><a href="https://youtu.be/KsbOgSMy5QU">IoT with NETPIE2020 and node-red (part II)</a>
  <li /><a href="https://youtu.be/7j-oax8uGxY">IoT with NETPIE2020 and node-red (part III)</a>
</ul>

### Lecture 9 : IoT development on Raspberry Pi
<ul>
  <li /><a href="https://drive.google.com/file/d/1l15mTDoudg74Ny7PrDLlvuEKLl0s64Xw/view?usp=sharing">IoT developoment on Raspberry Pi with NETPIE2020 slides</a>
</ul>

### Workshop 1 : ESP32 basics
<ul>
  <li /><a href="https://drive.google.com/file/d/14I9x77LtPJvPwuoYE87_8L14wFj5h7he/view?usp=sharing">Slides</a>
  <li /><a href="https://drive.google.com/file/d/1Alw3du6q_PxjgFT2c9du0CI-QhkZKibc/view?usp=sharing">Programs (.ZIP)</a>
  <li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/supplement/plotolresp.ipynb">Notebook to plot open-loop response from Lab 1.4</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1pajUXtmweKW68fniycyT0faSBnSiGIxB/view?usp=sharing">WS1 : Overview </a>
  <li /><a href="https://drive.google.com/file/d/1RqZDKA8lSXkdOYlXYEFE-pTJ8B5Sm4-v/view?usp=sharing">WS1 : Lab 1.1 ESP32 PWM and external interrupt</a>
  <li /><a href="https://drive.google.com/file/d/1Sed82_JoMVSOw6pzD9WxExvOnhSV_Ryh/view?usp=sharing">WS1 : Lab 1.2 ESP32 timer </a>
  <li /><a href="https://drive.google.com/file/d/1m-yNSJ_0B9swmkne_0RTIr703n4CUCY9/view?usp=sharing">WS1 : Lab 1.4 Open-loop step response using command intepreter</a>
  <li /><a href="https://drive.google.com/file/d/1leWWgugXb0cu78K0q1R9LKrZu1h46BMP/view?usp=sharing">WS1 : Lab 1.4 (NETPIE) Make it an IoT by connecting to NETPIE</a>

 </ul>
 
 ### Workshop 2 : FreeRTOS basics
 
 Create real-time multitasking IoT applications with ESP32 and FreeRTOS library.
 <ul>
  <li /><a href="https://drive.google.com/file/d/1jVAhEiadMSX8jveU-4jh12AEDHcwywe5/view?usp=sharing">Slides</a>
  <li /><a href="https://drive.google.com/file/d/14F80rWPRY2KjavlvsxT8E9UJoxXC2HfN/view?usp=sharing">Programs (.ZIP)</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://www.youtube.com/watch?v=K0r-IcMNchM">True multitasking with ESP32 using FreeRTOS</a>
  <li /><a href="https://www.youtube.com/watch?v=hsHTmaYV294">Basic FreeRTOS usage </a>
  <li /><a href="https://youtu.be/IF4GuJvTh-U">PID controller implementation on ESP32/FreeRTOS and NETPIE 2020</a>
</ul>
 
### Workshop 3 : node-red

For this workshop, another hardware named SGIoT (Signal Generator Internet of Things) is used. The board can generate 6 types of signals 
and compute FFT algorithm simultaneously without losing performance by exploiting both cores of ESP32.

<ul>
  <li /><a href="https://drive.google.com/file/d/1TgeXG7XRO6eQgrDdYiqdj2HRubvwL3YX/view?usp=sharing">Slides</a>
  <li /><a href="https://drive.google.com/file/d/1vhhvCTeIwmnf33Au-YGois7uetkS4YcA/view?usp=sharing">Software (.zip)</a>
  <li /><a href="https://drive.google.com/file/d/1fhJsIPguEtOymbTkquLWGriCSkPAAjNE/view?usp=sharing">Earlier version (V.12.13.1)</a> of Node.js installer for Windows (easier to install node-red)
</ul>

#### Videos
<ul>
  <li />
  <ul>Node.js and node-red installation videos. The command used is : <em>npm install -g --unsafe-perm node-red</em>
    <li /><a href="https://drive.google.com/file/d/1OX5AOevkYBqFZ5s0nCbKQOGhQ9DW1wbh/view?usp=sharing">for Windows</a> 
    <li /><a href="https://drive.google.com/file/d/1CuiaRJSod4BVu5zrKILiKZGT0pwLqJCs/view?usp=sharing">for Mac-OSX</a>
  </ul>
  <li /><a href="https://youtu.be/MLha1sB63ZE">Introducing Signal Generator Internet of Things (SGIoT) hardware for workshop 3 </a>
  <li /><a href="https://youtu.be/ZF8TV9_Lo74">Commanding SGIoT from node-red</a>
  <li /><a href="https://youtu.be/f55ESNjWNDI">Completer node-red-dashboard for SGIoT</a>
</ul>
 
## Course Supplement

### Micropython development on ESP32

#### Videos
<ul>
  <li /><a href="https://youtu.be/qHRnWYduEy4">How to set up Thonny for ESP32 micropython development</a>
  <li /><a href="https://youtu.be/hJwfbbsCZRw">Using ESP32 micropython with NETPIE2020 : DHT sensor monitoring</a>
</ul>

### NETPIE2020 Slides from NECTEC
<br>Special thanks to Mr.Piyawat Jomsathan and Dr.Panita Pongpaibool
<br>National Electronics and Computer Technology Center (NECTEC)

<ul>
  <li /><a href="https://drive.google.com/file/d/1_E_KkjthF7wQKPQSVDDp_sYRIuDU89sz/view?usp=sharing">Introducing NETPIE2020 Workshop</a>
  <li /><a href="https://drive.google.com/file/d/1ukmvPsXzit8rgduX5Bs5k2JOtfyx7Mp9/view?usp=sharing">IIoT Course :IoT Theme</a>
  <li /><a href="https://drive.google.com/file/d/1BjW-U1dIBDPtFgPzsjiHsPa43TUacYiZ/view?usp=sharing">IoT & NETPIE2020 Workshop Preparation</a>
</ul>

### my Control Systems Github
<ul>
  <li /><a href="https://github.com/dewdotninja/control_python">control_python</a>
</ul>
