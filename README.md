# embedded_iot
<b>Dr. Varodom Toochinda</b>
<br>Dept. of Mechanical Engineering, Kasetsart University 
<p align="center">
<img src="https://drive.google.com/uc?id=1hFLVQMM4k2ob4w5fgN8a_ueQ8IyVIpvn" width=700 alt="header"/>
</p>

<p />This is a place where IUP students can find materials for my courses on embedded systems and IoT. 

**Note :** The materials were based on course taught on year 2020. Many are outdated and are kept here for reference only. For example, freeboard in NETPIE 2020 is replaced by dashboard.
 
<ul>
<li /><b>01205479</b> Internet of Things for Electrical Engineering
  <li /><b>01211421</b> Embedded Systems for Industrial Control 
</ul>

## Course materials

### Lecture 0 : Course Introduction
<ul>
<li /><a href="https://drive.google.com/file/d/1LYpNJKXFsKZN4G5twz3V6k7ySq43xju-/view?usp=drive_link" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1x-sU6VtaehQO-Rr8A0tHveSf9dmKsVr6/view?usp=drive_link" target=_blank>Video : Introduction to NETPIE 2020</a>
</ul>

### Lecture 1 : Basic circuit analysis
<ul>
<li /><a href="https://drive.google.com/file/d/1otuhhgiJuHPwSJ21v4_MsndYUsngl6wi/view?usp=drive_link" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/16O1obEkklkZiv_c39YeCqz0s16W0HcqI/view?usp=drive_link" target=_blank>Video : Basic circuit analysis</a> 
</ul>

#### Video series : May the force be with you
<ul>
<li /><a href="https://drive.google.com/file/d/15QlWS4-xAV7JUOXRrbATXPkaPX3n0bFk/view?usp=drive_link" target=_blank>Video : FSR - construct a linear relationship between force and voltage</a> 
<li /><a href="https://drive.google.com/file/d/1zcM04q-ZVlCTTWEar2aVKiJFHZtwWvDk/view?usp=drive_link" target=_blank>Video : FSR - programming on ESP8266</a> 
<li /><a href="https://drive.google.com/file/d/1vFrsK-uq67Hau40cMj5EBpajv3A5k71h/view?usp=drive_link" target=_blank>Video : FSR - make it an IoT</a>
</ul>

#### Supplement : Homework assignment help
<ul>
<li /><a href="https://drive.google.com/file/d/1KukI1P4fPXhbJgKUF4CWuAvk0LX5tnmS/view?usp=drive_link" target=_blank>Video : a guide to Jupyter notebook and Colab</a>
<li /><a href="https://drive.google.com/file/d/1db72XVKctlCYQfTvPXpq5PBixCGogkYR/view?usp=drive_link" target=_blank>Video : Help with HW # 1</a>
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/hws/HW1en_question.ipynb" target=_blank>Notebook for HW # 1 </a>
<li />ESP8266 programs in the videos are provided in sensors/fsr   
</ul>

### Lecture 2 : AC circuits & time varying signals
<ul>
<li /><a href="https://drive.google.com/file/d/1EzddVuhmtnb_uRiO-gdFvfls1vJRtvFk/view?usp=drive_link" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1sSPWzP4u1YJKR60a1oM6096BOKtQLqNO/view?usp=drive_link" target=_blank>Video : AC circuits & time-varying signal</a>  
</ul>

#### Video series : Passive LPF
<ul>
<li /><a href="https://drive.google.com/file/d/1kENciV8MAxVDgKTLjPVyQ7TCpBON-h7p/view?usp=drive_link" target=_blank>Transfer function review</a> 
<li /><a href="https://drive.google.com/file/d/1icN0PXk9qOnVL61UFsgo8Xz-cEj-qOoE/view?usp=drive_link" target=_blank>passive LPF design</a> 
<li /><a href="https://drive.google.com/file/d/1CYonpNyTL_bfkGHC06CWL15PQBf-KjUT/view?usp=drive_link" target=_blank>Convert PWM output to analog with passive LPF</a>
  
</ul>

#### Supplement
<ul>
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/lpf/LPF_design.ipynb" target=_blank>LPF design notebook</a>
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/hws/HW2en_question.ipynb" target=_blank>Notebook for HW # 2 </a>
  
</ul>

### Lecture 3 : Op-amps and signal conditioning
<ul>
<li /><a href="https://drive.google.com/file/d/19Qo2e457nwRNWS0Ak3KU3ykD9N04DyGJ/view?usp=drive_link" target=_blank>Slides</a>
<li /><a href="https://drive.google.com/file/d/1WcapyrmfyhPHkJUDThsbORigG4BCgAv2/view?usp=drive_link" target=_blank>Supplement : LAG3-ESP32 board</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/19-SbN0YOB50ty0xyZhjUDQPa7yI79NBQ/view?usp=drive_link" target=_blank>Op-amps and signal conditioning</a>
  <li /><a href="https://drive.google.com/file/d/1eTE3a17BEpEDlir3m8-3cFivFbdEjAP2/view?usp=drive_link" target=_blank>Hint for HW 2.2</a>
  <li /><a href="https://drive.google.com/file/d/1pBRJsVhZD0vTbvcSQPtqoA-iAF3z1noX/view?usp=drive_link" target=_blank>Cascaded-tank simulation using opamp and RC circuit</a>
</ul>

#### Supplement
<ul>
<li /><a href="https://drive.google.com/file/d/19C-f-UsBqS3baVlMXmPZN4kVmrKsnsDh/view?usp=drive_link" target=_blank>Video : How to modify Python code in a cell to function</a>
<li />Signal Conditioning Basics using Op-amps (white paper, not available)
<li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/supplement/level_shifter_design.ipynb" target=_blank>Level shifter design function</a>
</ul>

### Lecture 4 : Basic C programming with ESP8266 and Arduino IDE
<ul>
<li /><a href="https://drive.google.com/file/d/1SxRTym2AHUcyHGEypL9DY5wUNlWBX4q-/view?usp=drive_link" target=_blank>Slides</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1FC9lxmHYUxp1x8peG3VjIm6-BC3MKJMP/view?usp=sharing" target=_blank>Arduino IDE, ESP core and library installation</a>
  <li /><a href="https://drive.google.com/file/d/1rJ3vY7tJekHYdS13yOUq_WqU_5GuvRuj/view?usp=drive_link" target=_blank>Lecture 4 Part I : Overview of ESP8266 and Arduino IDE</a>  
  <li /><a href="https://drive.google.com/file/d/1X_zBv8oOR2PDdDDqG_WX9-8zaP2kDPFw/view?usp=drive_link" target=_blank>Lecture 4 Part II : Playing around with addmult.ino</a>
  <li /><a href="https://drive.google.com/file/d/17741j1bpDfGABYgNbfOtS12dDibGJR-I/view?usp=drive_link" target=_blank>Lab 2-2 : analogWrite()</a>
  <li /><a href="https://drive.google.com/file/d/1cbmLsFoFqq84rNhl5yi0HLwRE1iC8PVg/view?usp=drive_link" target=_blank>Exercise 2 : Adjust LED brightness with VR</a>
  <li /><a href="https://drive.google.com/file/d/1SxRTym2AHUcyHGEypL9DY5wUNlWBX4q-/view?usp=drive_link" target=_blank>Lab 2-4, 2-5 : digitalRead()</a>
  <li /><a href="https://drive.google.com/file/d/193yaDPrWOmDwX2smskoiicGHQNX9tgkH/view?usp=drive_link" target=_blank>Lab 2-6 : using millis() instead of delay()</a>
  <li /><a href="https://drive.google.com/file/d/1BHQiCV93IWbkTUUFKTQBmtdcPrJJYJ0A/view?usp=drive_link" target=_blank>Lab 2-7 : read from DHT sensor</a>
  <li /><a href="https://drive.google.com/file/d/1pyY0rzaIzFEHX-JtcKedxtavdIRkJxVX/view?usp=drive_link" target=_blank>Lab 2-8 : OLED panel</a>
  <li /><a href="https://drive.google.com/file/d/1sIs-GXS8MPLNcywhq2qJKpZ6zCgIw2aa/view?usp=drive_link" target=_blank>Lab 2-9 : BH1750 light sensor</a>
  <li /><a href="https://drive.google.com/file/d/1rJ3vY7tJekHYdS13yOUq_WqU_5GuvRuj/view?usp=drive_link" target=_blank>Lab 2-10 : NodeMCU WiFi connection</a>

</ul>
<br><b>Note : </b>These Arduino programs are originally from chapter 2 of the Practical IoT Design and Implementation book. So the lab numbers have 2- prefix.

#### Supplement
<ul>
  <li /><a href="https://drive.google.com/file/d/1I31196GD3ZFrt4pIvJpyuEKku7FJUo5C/view?usp=drive_link">Arduino programs</a> 
  <li />Practical IoT Design and Implementation (obsoleted)
</ul>

### Lecture 5 : Introduction to NETPIE 2020

<ul>
  <li />Use slides "Introducing NETPIE2020 Workshop" from NECTEC (provided below)
  <li />It is quite mouthful to say "NETPIE 2020" every time. So from now, any mention of NETPIE without year refers to NETPIE 2020, not the previous version NETPIE 2015 (which is no longer supported).
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1k-pJ0QwAzbXA8gddOaTPcmmkFPLu9WM9/view?usp=drive_link">Introduction to NETPIE 2020 and MQTT protocol</a>
  <li /><a href="https://drive.google.com/file/d/1NJJEm7CqDJjkx8HaxQ2bwC_kDz3pwPTV/view?usp=drive_link">NETPIE portal</a>
  <li /><a href="https://drive.google.com/file/d/1k5gwC42JO3dTuDhv01teo6cMET85Dhoa/view?usp=drive_link">Workshop 1 : simple MQTT communicaiton using MQTTBox</a>
  <li /><a href="https://drive.google.com/file/d/191VU2AGfzgCkhUh4EVvZ77CFfKrW1zB8/view?usp=drive_link">Workshop 2 : connecting NodeMCU to NETPIE</a>
  <li /><a href="https://drive.google.com/file/d/1Ma_M752qBLwoG1Yg5GaGUndAKHiS9cas/view?usp=drive_link">NETPIE device data management</a>
  <li /><a href="https://drive.google.com/file/d/14eXoN91AVCDsU0XMwJOKUd8W8Xbqa1gO/view?usp=drive_link">Workshop 4 : publishing data from NodeMCU to NETPIE shadow</a>
</ul>

#### Supplement
<ul>
  <li /><a href="https://drive.google.com/file/d/1riRrhPMRxvjD2AUTFL7_T_JSlmmUYZs0/view?usp=drive_link">Arduino programs</a> 
</ul>

### Lecture 6 : Notification, monitoring, and storing data
<ul>
  <li />Use slides "Introducing NETPIE2020 Workshop" from NECTEC (provided below)
  <li /><a href = "https://drive.google.com/file/d/1xJV9qNbjbC4NiIdTaBpflGTIe2SN7r6y/view?usp=drive_link">ESP8266 program to write data to ThingSpeak</a>
  <li /><a href = "https://drive.google.com/file/d/1VjPicb497e-7eb0sS0x9rrRCxsi8jFWG/view?usp=drive_link">ESP8266 program to monitor humidity, temperature, and light data on Blynk</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://youtu.be/PMuxdHhqFJo">Line notification on NETPIE</a>
  <li /><a href="https://drive.google.com/file/d/1QvhkxtWGm-vSpKyycnPiXddXILIkozMP/view?usp=drive_link">Monitoring on NETPIE Freeboard (obsoleted)</a>
  <li /><a href="https://drive.google.com/file/d/1PEgWjJwKugfBoQUrOsBjTGkF2KAIdu6o/view?usp=drive_link">Create a FeedView widget on NETPIE (obsoleted)</a>
  <li /><a href="https://www.youtube.com/watch?v=AK4Lp1Ko0l8&t=478s">How to Use ThingSpeak with Arduino (youtube video from learnelectronics)</a>
  <li /><a href="https://drive.google.com/file/d/1vBJfz9AlrFbg2Xe3KZP1f6UenmBGoVka/view?usp=drive_link">Write temperature, humidity, light data to ThingSpeak channel</a>
  <li /><a href="https://youtu.be/7qqoqhDiPl0">Monitoring humidity, temperature, light on mobile with Blynk.</a> 
  <li /><a href="https://youtu.be/1J1lYluQEwo">Connect and send sensor data to Thingsboard</a>
</ul>

### Lecture 7 : Discrete-time PID Implementation

Notebooks from my control_python github
<ul>
  <li /><a href="https://github.com/dewdotninja/control_python/blob/main/ceb_m4.ipynb">Module 4 : PID control</a>
  <li /><a href="https://github.com/dewdotninja/control_python/blob/main/ceb_m6.ipynb">Module 6: Discrete-time Control Systems</a>
  <li /><a href="https://github.com/dewdotninja/control_python/blob/main/ceb_m7.ipynb">Module 7: Continuous to Discrete Conversion Methods</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1kgst-lTs5vfWGDfX0FmPgavAh5F8G1bQ/view?usp=drive_link">From continuous-time PID to algorithm</a>
  <li /><a href="https://drive.google.com/file/d/1sPz1h0xftGLOYUFTI4-C6GGlgN6pv6Ro/view?usp=drive_link">An example on how to convert a PI controller to code</a>
  
</ul>

### Lecture 8 : IoT using node-red

See workshop 3 for node-red installation
<ul>
  <li /><a href="https://drive.google.com/file/d/14EUp3k5k_3KIEpUoA_MaT3a6tsmpAJx2/view?usp=drive_link">Using node-red with NETPIE 2020 Slides</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://youtu.be/ul2AA0dQsjo">IoT with NETPIE2020 and node-red (part I)</a>
  <li /><a href="https://youtu.be/KsbOgSMy5QU">IoT with NETPIE2020 and node-red (part II)</a>
  <li /><a href="https://youtu.be/7j-oax8uGxY">IoT with NETPIE2020 and node-red (part III)</a>
</ul>

### Lecture 9 : IoT development on Raspberry Pi
<ul>
  <li /><a href="https://drive.google.com/file/d/13azXd79FbIBJ-bdBKPiFPmrHZBJHPMa6/view?usp=drive_link">IoT developoment on Raspberry Pi with NETPIE2020 slides</a>
</ul>

### Workshop 1 : ESP32 basics
<ul>
  <li /><a href="https://drive.google.com/file/d/11u75YuoyXAvKTB4FImizDXMUY5WokeF0/view?usp=drive_link">Slides</a>
  <li /><a href="https://drive.google.com/file/d/15znRlG6Igre7JMGwC_CJKXz_pmBVddon/view?usp=drive_link">Programs (.ZIP)</a>
  <li /><a href="https://github.com/dewdotninja/embedded_iot/blob/main/supplement/plotolresp.ipynb">Notebook to plot open-loop response from Lab 1.4</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://drive.google.com/file/d/1q7_xuOGfUeIAZyttfL2CgvaU_k8ADb2D/view?usp=drive_link">WS1 : Overview </a>
  <li /><a href="https://drive.google.com/file/d/1UZBSA-UJ8KwhhQHX5THnGmny9CpgVfuk/view?usp=drive_link">WS1 : Lab 1.1 ESP32 PWM and external interrupt</a>
  <li /><a href="https://drive.google.com/file/d/15FINEhQqyS_jf-Ifgp1ZUn0pVMiC6QwN/view?usp=drive_link">WS1 : Lab 1.2 ESP32 timer </a>
  <li /><a href="https://drive.google.com/file/d/1nX9aHj3R2rW1hTxJrgrhJNC0z2qTokT1/view?usp=drive_link">WS1 : Lab 1.4 Open-loop step response using command intepreter</a>
  <li /><a href="https://drive.google.com/file/d/1jcPoYNxPnG6Wi3dQg459DOaL3j0iGRco/view?usp=drive_link">WS1 : Lab 1.4 (NETPIE) Make it an IoT by connecting to NETPIE</a>

 </ul>
 
 ### Workshop 2 : FreeRTOS basics
 
 Create real-time multitasking IoT applications with ESP32 and FreeRTOS library.
 <ul>
  <li /><a href="https://drive.google.com/file/d/1dC81Z86cd4bTc6Sg8sE4kgh_wD8hXooE/view?usp=drive_link">Slides</a>
  <li /><a href="https://drive.google.com/file/d/1LnNyKz3zv0HE9tDB4SNG5fp6MKuPstbo/view?usp=drive_link">Programs (.ZIP)</a>
</ul>

#### Videos
<ul>
  <li /><a href="https://www.youtube.com/watch?v=K0r-IcMNchM">True multitasking with ESP32 using FreeRTOS</a>
  <li /><a href="https://www.youtube.com/watch?v=hsHTmaYV294">Basic FreeRTOS usage </a>
  <li /><a href="https://youtu.be/IF4GuJvTh-U">PID controller implementation on ESP32/FreeRTOS and NETPIE 2020</a>
</ul>
 
### Workshop 3 : node-red

For this workshop, another hardware named SGIoT (Signal Generator Internet of Things) is used. The board can generate 6 types of signals 
and compute FFT algorithm simultaneously without losing performance by exploiting both cores of ESP32.

<ul>
  <li /><a href="https://drive.google.com/file/d/1XnXMXLXG0DXY2MJSeMQy3Rv4UkmA1YHj/view?usp=drive_link">Slides</a>
  <li /><a href="https://drive.google.com/file/d/1Mu3rLW9gdDUG4AWkarzAGqk2FSqtLHVR/view?usp=sharing">Software (.zip)</a>
</ul>

#### Videos
<ul>
  <li />
  <ul>Node.js and node-red installation videos. The command used is : <em>npm install -g --unsafe-perm node-red</em>
    <li /><a href="https://drive.google.com/file/d/1kXspLwqtbl0rhISKbthKM66mBQuGwII8/view?usp=drive_link">for Windows</a> 
    <li /><a href="https://drive.google.com/file/d/1HUq8EDAtkq8gw9PSxd9MztDhysPOxG0F/view?usp=drive_link">for Mac-OSX</a>
  </ul>
  <li /><a href="https://youtu.be/MLha1sB63ZE">Introducing Signal Generator Internet of Things (SGIoT) hardware for workshop 3 </a>
  <li /><a href="https://youtu.be/ZF8TV9_Lo74">Commanding SGIoT from node-red</a>
  <li /><a href="https://youtu.be/f55ESNjWNDI">Completer node-red-dashboard for SGIoT</a>
</ul>
 
## Course Supplement

### Micropython development on ESP32

#### Videos
<ul>
  <li /><a href="https://youtu.be/qHRnWYduEy4">How to set up Thonny for ESP32 micropython development</a>
  <li /><a href="https://youtu.be/hJwfbbsCZRw">Using ESP32 micropython with NETPIE2020 : DHT sensor monitoring</a>
  <li /><a href="https://youtu.be/pD4GD9SrEfI">Using ESP32 micropython with NETPIE2020 : control the onboard LED with commands</a> 
  <li />More on <a href="https://github.com/dewdotninja/micropython">my micropython github</a>
</ul>

### NETPIE2020 Slides from NECTEC
<br>Special thanks to Mr.Piyawat Jomsathan and Dr.Panita Pongpaibool
<br>National Electronics and Computer Technology Center (NECTEC)

<ul>
  <li /><a href="https://drive.google.com/file/d/1JtUydcm8Old62ZbjjSgLVeq1qd-Rd_xb/view?usp=drive_link">Introducing NETPIE2020 Workshop</a>
  <li /><a href="https://drive.google.com/file/d/12gv7J3G8pV6hdx0qpZ9f4_KBBMAVhuEW/view?usp=drive_link">IIoT Course :IoT Theme</a>
  <li /><a href="https://drive.google.com/file/d/19RO3nlkF6_-vSSAo3opTu1dBHAMsqWwn/view?usp=drive_link">IoT & NETPIE2020 Workshop Preparation</a>
</ul>

### my Control Systems Github
<ul>
  <li /><a href="https://github.com/dewdotninja/control_python">control_python</a>
</ul>
